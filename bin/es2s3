#!/usr/bin/env ruby

require "es2s3"

create_repo unless repo_exists?

command = ARGV[0]
case command
when "list"
  puts all_snapshots.map(&:name)
when "delete"
  snapshot_name = ARGV[1]
  delete_snapshot(snapshot_name)
else
  create_snapshot
end

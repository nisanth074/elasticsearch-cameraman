#!/usr/bin/env ruby

require "elasticsearch-cameraman"

create_repo unless repo_exists?

command = ARGV[0]
case command
when "snapshot"
  create_snapshot
when "list_snapshots"
  puts all_snapshots.map(&:name)
when "delete_snapshot"
  snapshot_name = ARGV[1]
  delete_snapshot(snapshot_name)
else
  # @todo Print usage instructions
end
